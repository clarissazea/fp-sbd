{% extends 'admin/admin_base.html' %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">ðŸ‘¥ Daftar Anggota</h1>

<div class="mb-4">
  <a href="{% url 'admin_member_form' %}" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
    + Tambah Anggota
  </a>
</div>

{% if members %}
<table class="min-w-full bg-white rounded shadow overflow-hidden">
  <thead class="bg-gray-100 text-left">
    <tr>
      <th class="px-4 py-2">Id</th>
      <th class="px-4 py-2">Nama</th>
      <th class="px-4 py-2">Email</th>
      <th class="px-4 py-2">Telepon</th>
      <th class="px-4 py-2">Alamat</th>
      <th class="px-4 py-2">Tanggal Bergabung</th>
      <th class="px-4 py-2">Role</th>
      <th class="px-4 py-2">Aksi</th>
    </tr>
  </thead>
  <tbody>
    {% for member in members %}
    <tr class="border-t">
      <td class="px-4 py-2">{{member.0}}</td>
      <td class="px-4 py-2">{{member.1}}</td>
      <td class="px-4 py-2">{{member.2}}</td>      
      <td class="px-4 py-2">{{member.3}}</td>
      <td class="px-4 py-2">{{member.4}}</td>
      <td class="px-4 py-2">{{member.5}}</td>
      <td class="px-4 py-2">{{member.6}}</td>
      <td class="px-4 py-2 space-x-2">
        <a href="{% url 'admin_member_edit' member.0 %}" class="text-blue-600 hover:underline">Edit</a>
        {% if member.6 != 'admin' %}
        <a href="{% url 'admin_member_delete' member.0 %}" class="text-red-600 hover:underline">Hapus</a>                               
        {% endif %} 
      </td>
    </tr> 
    {% endfor %}   
  </tbody>
</table>
{% else %}
<div class="bg-yellow-100 text-yellow-800 p-4 rounded">
  <p class="text-lg">Belum ada anggota yang terdaftar.</p>
</div>
{% endif %}
{% endblock %}
